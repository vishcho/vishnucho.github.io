---
title: "遊戲期望RTP動態調整 - 重擲控制 Reroll"
date: "2022-06-06"
categories:
 - " 數學分析"
tags:
 - "math"
 - "game"
 - "rtp"
toc: true
mermaid: true
math: katex 
---
# 遊戲動態RTP調整方案 - 重擲控制 Reroll

固定RTP玩法的遊戲，藉由**重擲控制**可變成可動態調整RTP的遊戲。

{{< mermaid >}}
graph LR
A["固定RTP"]-->B(重擲RTP控制)-->C["根據重擲機率n決定期望RTP"]
{{< /mermaid >}}

## 原理闡述
1. 若要降低RTP時，在其**中獎**時有概率重擲其遊戲結果
2. 若要上升RTP時，在其**未中獎**時有概率重擲其遊戲結果

<!--more-->

## 數學代號
- R = RTP
- H = HitRate $\in [0,1]$


## 原生遊戲
項目|機率|返回率|期望值
---|---|---|---
中獎|H|R/H|R
未中獎|1-H|0|0
總和|1||R

## 上修一次遊戲

### 示意展示
{{< mermaid >}}
graph LR
A[bRTP=95%,bHit=30%]-->B{玩}--有中獎-->C
B--未中獎-->D-->E{概率性重擲}
E--觸發-->F{玩,RTP=95%}
E--未觸發-->D

{{< /mermaid >}}

項目|機率|返回率|期望值
---|---|---|---
中獎|H|R/H|R
未中獎重擲後中獎|(1-H)H|R/H|R(1-H)
未中獎重擲後未中獎|(1-H)(1-H)|0|0
總和|1||2R-RH

## 下修一次遊戲

### 示意展示
{{< mermaid >}}
graph LR
A[bRTP=95%,bHit=30%]-->B{玩}--有中獎-->C-->E{概率性重擲}
B--未中獎-->D
E--觸發-->F{玩,RTP=95%}
E--未觸發-->C

{{< /mermaid >}}

項目|機率|返回率|期望值
---|---|---|---
中獎重擲後中獎|HH|R/H|RH
中獎重擲後未中獎|H(1-H)|0|0
未中獎|(1-H)|0|0
總和|1||RH

## 以概率n上修一次遊戲 n=[0,1]
項目|機率|返回率|期望值
---|---|---|---
中獎|H|R/H|R
未中獎觸發重擲後中獎|(1-H)nH|R/H|R(1-H)n
未中獎觸發重擲後未中獎|(1-H)n(1-H)|0|0
未中獎未觸發重擲|(1-H)(1-n)|0|0
總和|1||R(n-nH+1)
中獎機率|H+(1-H)nH

### 期望值
期望值 = $R(n - nH + 1) \in [R,R(2-H)]$
### 中獎率
中獎率 = $H+(1-H)nH \in [H,2H-H^2]$

## 以概率n下修一次遊戲 n=[0,1]
項目|機率|返回率|期望值
---|---|---|---
中獎觸發重擲後中獎|HnH|R/H|RHn
中獎觸發重擲後未中獎|Hn(1-H)|0|0
中獎未觸發重擲|H(1-n)|R/H|R(1-n)
未中獎|(1-H)|0|0
總和|1||R(Hn+1-n)
中獎機率|H(nH+1-n)

### 期望值
期望值 = $R(Hn+1-n) \in [RH,R]$
### 中獎率
中獎率 = $H(nH+1-n) \in [H^2,H]$


